"use strict";(self["webpackChunkfretty_app"]=self["webpackChunkfretty_app"]||[]).push([[64],{2797:function(t,n,e){var i=e(144),a=function(){var t=this,n=t._self._c;return n("section",{staticClass:"section",staticStyle:{padding:"0"}},[t._l(t.editors,(function(e){return n("div",{key:e,staticClass:"container",staticStyle:{"max-width":"100%"}},[n("Editor",{on:{"remove-fretboard":function(n){return t.remove(e)}}})],1)})),n("div",{staticClass:"container has-text-centered"},[n("a",{on:{click:t.add}},[t._v("+ Add fretboard")])])],2)},s=[],r=(e(7658),function(){var t=this,n=t._self._c;return n("div",[n("div",{staticClass:"editor"},[n("div",{staticClass:"columns is-multiline is-centered"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{grouped:"","group-multiline":"",position:"is-centered"}},[n("b-field",{attrs:{label:"Tuning"}},[n("b-autocomplete",{staticStyle:{"min-width":"350px"},attrs:{data:t.tuning_search,"group-field":"instrument","group-options":"tunings","open-on-focus":"",clearable:"",field:"tuning",icon:"guitar"},on:{select:n=>t.selected=n?n.name:"",input:t.saveSettings},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{flex:"1 1 0px"}},[t._v(t._s(e.option.name))]),n("div",{staticStyle:{flex:"1 1 0px"}},[t._v(t._s(e.option.tuning))])])]}}]),model:{value:t.usr_tuning,callback:function(n){t.usr_tuning=n},expression:"usr_tuning"}})],1),n("b-field",{attrs:{label:"Tonic:"}},[n("b-input",{staticStyle:{"max-width":"100px"},attrs:{icon:"music"},model:{value:t.scale.tonic,callback:function(n){t.$set(t.scale,"tonic",n)},expression:"scale.tonic"}})],1),n("b-field",{attrs:{label:"Scale:"}},[n("b-autocomplete",{attrs:{data:t.scale_search,"open-on-focus":"",clearable:"","append-to-body":""},on:{select:n=>t.selected=n},model:{value:t.scale.type,callback:function(n){t.$set(t.scale,"type",n)},expression:"scale.type"}})],1),n("b-field",[n("template",{slot:"label"},[n("span",{staticStyle:{color:"transparent","user-select":"none"}},[t._v("More")])]),n("b-dropdown",{attrs:{"append-to-body":"","aria-role":"menu","trap-focus":""}},[n("b-button",{staticClass:"button",attrs:{slot:"trigger","icon-left":"cog"},slot:"trigger"},[t._v("Settings")]),n("b-dropdown-item",{attrs:{"aria-role":"menu-item",focusable:!1,custom:"",paddingless:""}},[n("form",{attrs:{action:""}},[n("div",{staticClass:"modal-card",staticStyle:{width:"300px"}},[n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Frets"}},[n("b-numberinput",{attrs:{"controls-position":"compact",min:"1",max:"200"},model:{value:t.frets,callback:function(n){t.frets=t._n(n)},expression:"frets"}})],1),n("b-field",{attrs:{label:"Notation"}},[n("b-field",[n("b-radio-button",{attrs:{"native-value":"sharps"},model:{value:t.sharps,callback:function(n){t.sharps=n},expression:"sharps"}},[n("span",[t._v("#")])]),n("b-radio-button",{attrs:{"native-value":"flats"},model:{value:t.sharps,callback:function(n){t.sharps=n},expression:"sharps"}},[n("span",[t._v("b")])])],1)],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("b-button",{attrs:{"icon-left":"trash"},on:{click:function(n){return t.$emit("remove-fretboard")}}},[t._v("remove fretboard")])],1)])])])],1)],2)],1)],1)]),n("div",{staticClass:"card-image",staticStyle:{"text-align":"center","overflow-x":"auto"}},[n("Fretboard",{attrs:{tuning:t.tuning,notes:t.notes,sharps:t.sharps,frets:t.frets,root:t.root}})],1)])])}),o=[],u=function(){var t=this,n=t._self._c;return this.tuning.length>0?n("svg",{staticClass:"fretboard",attrs:{width:t.width+150,height:t.height+100}},[n("g",{attrs:{transform:"translate(80, 50)"}},[t._l(t.inlay_polys,(function(t){return n("polygon",{key:"inlay_"+t.fret,staticStyle:{fill:"#eee"},attrs:{points:t.points}})})),t._l(t.strings,(function(e){return n("line",{key:"string_"+e.nr,attrs:{x1:"0",y1:e.y,x2:t.width,y2:e.y,stroke:"#000","stroke-width":"1"}})})),n("line",{attrs:{x1:"0",y1:"0",x2:"0",y2:t.height,stroke:"#000","stroke-width":"5","stroke-linecap":"round"}}),t._l(t.fret_lines.lines,(function(e){return n("line",{key:"fret_"+e.nr,attrs:{x1:e.x,y1:t.fret_lines.y1,x2:e.x,y2:t.fret_lines.y2,stroke:"#000","stroke-width":e.width}})})),t._l(t.strings,(function(e){return n("g",{key:"ng_"+e.nr},[t._l(e.hidden,(function(i){return n("g",{key:i.key},[n("transition",{attrs:{name:"fade"}},[n("g",{directives:[{name:"show",rawName:"v-show",value:i.num==t.hover_note,expression:"note.num == hover_note"}]},[n("circle",{attrs:{cx:i.x,cy:e.y,r:"10","stroke-width":"1",fill:"white",stroke:"white"}}),n("text",{attrs:{"font-size":"11",x:i.x,y:e.y,"dominant-baseline":"central",fill:"black","text-anchor":"middle"}},[t._v(" "+t._s(i.name)+" ")])])]),n("circle",{attrs:{r:"10",cx:i.x,cy:e.y,fill:"transparent"},on:{mouseleave:function(n){t.hover_note=-1},mouseover:function(n){t.hover_note=i.num}}})],1)})),n("transition-group",{attrs:{name:"list",tag:"g",appear:""}},t._l(e.visible,(function(i){return n("g",{key:i.key},[i.hasOctave?n("rect",{attrs:{x:i.x-12,y:e.y-10,width:"24",height:"20",fill:t.root===i.num?"black":"white",stroke:"black","stroke-width":"0.3","stroke-dasharray":t.hover_note===i.num&&i.num!==t.root?"4,4":"0",ry:"0",rx:"0"}}):n("circle",{attrs:{cx:i.x,cy:e.y,r:"10","stroke-dasharray":t.hover_note==i.num&&i.num!=t.root?"4,4":"0",fill:t.root==i.num?"black":"white",stroke:"black"}}),n("text",{attrs:{"font-size":"11",x:i.x,y:e.y,"dominant-baseline":"central",fill:t.root==i.num?"white":"black","font-weight":t.root==i.num?"bold":"normal","text-anchor":"middle"}},[t._v(" "+t._s(i.name)+" ")]),n("circle",{attrs:{r:"10",cx:i.x,cy:e.y,fill:"transparent"},on:{mouseleave:function(n){t.hover_note=-1},mouseover:function(n){t.hover_note=i.num}}})])})),0)],2)}))],2)]):t._e()},l=[],c=e(6301),m={name:"Fretboard",props:{tuning:{type:Array,default:()=>[]},notes:{type:Array,default:()=>[]},inlays:{default:()=>[3,5,7,9,12,15,17,19,21,24]},root:{type:Number},frets:{type:Number,default:25},sharps:{type:Boolean,default:!0}},data(){return{string_spacing:25,hover_note:-1}},computed:{width:function(){return this.fretpos(this.frets-1)},height:function(){return(this.tuning.length-1)*this.string_spacing},strings:function(){let t=[];return this.tuning.forEach(((n,e)=>{let i=n.endsWith("1")||n.endsWith("2")||n.endsWith("3")||n.endsWith("4")||n.endsWith("5")||n.endsWith("6")||n.endsWith("7");const a=i?{"note-to-num":(t,n)=>c.jC.midi(t)+n,"num-to-num":t=>t%12,"num-to-name":t=>c.mb.midiToNoteName(t,{sharps:!0,pitchClass:!i})}:{"note-to-num":(t,n)=>(c.jC.chroma(t)+n)%12,"num-to-num":t=>t,"num-to-name":t=>this.toname(t)};let s=this.normalize(this.notes),r=[],o=[];for(let t=0;t<this.frets;t++){let u=a["note-to-num"](n,t),l=a["num-to-num"](u),c={hasOctave:i,num:l,fret:t,name:a["num-to-name"](u),x:(this.fretpos(t-1)+this.fretpos(t))/2,key:"n"+e+"_"+t};s.includes(l)?r.push(c):o.push(c)}void 0!==n&&t.push({nr:e,y:e*this.string_spacing,tuning:n,visible:r,hidden:o})})),t},fret_lines:function(){let t=[];for(let n=1;n<this.frets;n++)t.push({nr:n,x:this.fretpos(n)});return{y1:0==this.height?-this.string_spacing/4:0,y2:0==this.height?this.string_spacing/4:this.height,lines:t}},inlay_polys:function(){let t=[];if(!this.tuning.length)return t;for(let n of this.inlays){if(n>=this.frets)break;const e=.6,i=12==n?.8:.6;let a=this.height,s=a/2-a*i/2;a<10&&(a=10,s=-5);const r=s+a*i,o=this.fretpos(n-1),u=this.fretpos(n),l=u-o,c=o+l/2-l*e/2,m=c+l*e;let g;g=12==n?[[c,s],[m,s],[m,r],[c,r]]:[[o+l/2,s],[c,a/2],[o+l/2,r],[m,a/2]];let d="";for(let t of g)d+=t[0].toString()+","+t[1].toString()+" ";t.push({fret:n,points:d})}return t}},methods:{fretpos(t){if(t<=20){const n=2200;let e=.77*n,i=n-n/Math.pow(2,t/12);return Math.round(i*e)/e}{let n=this.fretpos(19),e=this.fretpos(20);return e+(e-n)*(t-20)}},toname(t){return c.mb.midiToNoteName(t,{sharps:this.sharps,pitchClass:!0})},normalize(t){return t.map((t=>t%12))}}},g=m,d=e(1001),p=(0,d.Z)(g,u,l,!1,null,"d9c0970c",null),h=p.exports;const D=Object.freeze([{instrument:"Guitar (6-String)",tunings:[{name:"Standard",tuning:"E A D G B E",exact:"E2 A2 D3 G3 B3 E4"},{name:"Drop D",tuning:"D A D G B E"},{name:"Half Step Down",tuning:"D# G# C# F# A# D#"},{name:"Full Step Down",tuning:"D G C F A D"},{name:"1 and 1/2 Steps Down",tuning:"C# F# B E G# C#"},{name:"Double Drop D",tuning:"D A D G B D"},{name:"Drop C",tuning:"C G C F A D"},{name:"Drop C#",tuning:"C# G# C# F# A# D#"},{name:"Drop B",tuning:"B F# B E G# C#"},{name:"Drop A#",tuning:"A# F A# D# G C"},{name:"Drop A",tuning:"A E A D F# B"},{name:"Open D",tuning:"D A D F# A D"},{name:"Open D Minor",tuning:"D A D F A D"},{name:"Open G",tuning:"D G D G B D"},{name:"Open G Minor",tuning:"D G D G A# D"},{name:"Open C",tuning:"C G C G C E"},{name:"Open C#",tuning:"C# F# B E G# C#"},{name:"Open C Minor",tuning:"C G C G C D#"},{name:"Open E",tuning:"E G# D E B E"},{name:"Open E Minor7",tuning:"E B D G B E"},{name:"Open G Major7",tuning:"D G D F# B D"},{name:"Open A Minor",tuning:"E A E A C E"},{name:"Open A Minor7",tuning:"E A E G C E"},{name:"Open E",tuning:"E B E G# B E"},{name:"Open A",tuning:"E A C# E A E"},{name:"C Tuning",tuning:"C F A# D# G C"},{name:"C# Tuning",tuning:"C# F# B E G# C#"},{name:"Bb Tuning",tuning:"A# D# G# C# F A#"},{name:"A to A (Baritone)",tuning:"A D G C E A"},{name:"D A D D D D",tuning:"D A D D D D"},{name:"C G D G B D",tuning:"C G D G B D"},{name:"C G D G B E",tuning:"C G D G B E"},{name:"D A D E A D",tuning:"D A D E A D"},{name:"D G D G A D",tuning:"D G D G A D"},{name:"Open Dsus2",tuning:"D A D G A D"},{name:"Open Gsus2",tuning:"D G D G C D"},{name:"G",tuning:"D G D G B E"},{name:"Modal G",tuning:"D G D G C D"},{name:"Overtone",tuning:"C E G A# C D"},{name:"Pentatonic",tuning:"A C D E G A"},{name:"Minor Third",tuning:"C D# F# A C D#"},{name:"Major Third",tuning:"C E G# C E G#"},{name:"All Fourths",tuning:"E A D G C F"},{name:"Augmented Fourths",tuning:"C F# C F# C F#"},{name:"Slow Motion",tuning:"D G D F C D"},{name:"Admiral",tuning:"C G D G B C"},{name:"Buzzard",tuning:"C F C G A# F"},{name:"Face",tuning:"C G D G A D"},{name:"Four and Twenty",tuning:"D A D D A D"},{name:"Ostrich",tuning:"D D D D D D"},{name:"Capo 20",tuning:"C G D D# D D#"},{name:"Balalaika",tuning:"E A D E E A"},{name:"Charango",tuning:" G C E A E"},{name:"Cittern One",tuning:"C F C G C D"},{name:"Cittern Two",tuning:"C G C G C G"},{name:"Dobro Open G",tuning:"G B D G B D"},{name:"Lefty",tuning:"E B G D A E"},{name:"Mandoguitar",tuning:"C G D A E B"},{name:"Rusty Cage",tuning:"B A D G B E"}]},{instrument:"Bass (4-String)",tunings:[{name:"Standard",tuning:"E A D G"},{name:"Drop D",tuning:"D A D G"},{name:"Drop C",tuning:"C G C F"},{name:"Drop B",tuning:"B F# B E"},{name:"D Standard",tuning:"D G C F"},{name:"C to thirds",tuning:"C G C G"}]},{instrument:"Bass (5-String)",tunings:[{name:"Standard",tuning:"B E A D G"},{name:"High C",tuning:"E A D G C"}]},{instrument:"Bass (6-String)",tunings:[{name:"Standard",tuning:"B E A D G C"}]},{instrument:"Ukulele",tunings:[{name:"C6",tuning:"G C E A"},{name:"D6",tuning:"A D F# B"}]},{instrument:"Violin",tunings:[{name:"Standard",tuning:"G D A E"},{name:"Cajun",tuning:"F C G D"},{name:"Open G",tuning:"G D G B"},{name:"Sawmill",tuning:"G D G D"},{name:"Gee-Dad",tuning:"G D A D"},{name:"Open D",tuning:"D D A D"},{name:"High Bass, Old-Timey D",tuning:"A D A E"},{name:"Cross A",tuning:"A E A E"}]},{instrument:"Russian Guitar",tunings:[{name:"Standard",tuning:"D G B D G B D"},{name:"Classical",tuning:"C G B D G B D"}]},{instrument:"Sitar",tunings:[{name:"Standard",tuning:"C C G C G C F x C C B C D E F G A B C D E"}]}]);var f=[];for(var C of c.N3.all())f.push(C.name),f.push(...C.aliases);var G={name:"Editor",components:{Fretboard:h},data:function(){return{usr_tuning:localStorage.getItem("tuning")||"E2 A2 D3 G3 B3 E4",sharps:"sharps",frets:25,scale:{tonic:"A",type:"minor pentatonic"}}},computed:{tuning:function(){return this.usr_tuning?this.usr_tuning.trim().split(" ").reverse():[]},root:function(){return c.jC.chroma(this.scale.tonic)},notes:function(){return this.scale_info.notes.map(c.jC.chroma)},scale_info:function(){let t=this.scale.tonic+" "+this.scale.type;return c.Ci.get(t)},scale_search:function(){return f.filter((t=>t.toString().toLowerCase().indexOf(this.scale.type.toLowerCase())>=0))},tuning_search(){const t=[];return D.forEach((n=>{const e=n.tunings.filter((t=>t.tuning.toLowerCase().indexOf(this.usr_tuning.toLowerCase())>=0));e.length&&t.push({instrument:n.instrument,tunings:e})})),t}},methods:{saveSettings(){console.log("saving"),localStorage.setItem("tuning",this.usr_tuning)},normalize(t){return t.map((t=>t%12))},toname(t){return c.mb.midiToNoteName(t,{sharps:"sharps"==this.sharps,pitchClass:!0})},scale_input(t,n){console.log(n)}}},A=G,y=(0,d.Z)(A,r,o,!1,null,"3fba7ac8",null),b=y.exports,v={name:"App",components:{Editor:b},data(){return{editors:[1]}},methods:{add:function(){this.editors.push(Math.max(...this.editors)+1)},remove:function(t){const n=this.editors.indexOf(t);n>-1&&this.editors.splice(n,1)}}},_=v,E=(0,d.Z)(_,a,s,!1,null,null,null),x=E.exports,B=e(3450),k=e(6226),w=e(355),F=e(3411),S=e(844),O=e(7251),Z=e(1181),P=e(8209),M=e(5883),T=e(6302),N=e(11),W=e(8947),j=e(1436),z=e(7810);W.vI.add(j.r8p,j.Kl4,j.nYk,j.gc2,j.b7W,j.l1h,j.eW2,j.$aW,j.Xig,j.mCs),i.ZP.component("vue-fontawesome",z.GN),i.ZP.use(B.Z),i.ZP.use(k.Z),i.ZP.use(w.Z),i.ZP.use(F.Z),i.ZP.use(S.ZP),i.ZP.use(O.Z),i.ZP.use(Z.ZP),i.ZP.use(P.ZP),i.ZP.use(M.Z),i.ZP.use(T.ZP),N.Z.setOptions({defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas",defaultContainerElement:"#content"}),i.ZP.config.productionTip=!1,window.onload=function(){new i.ZP({render:t=>t(x)}).$mount("#app")}}}]);
//# sourceMappingURL=chunk-common.4cebad46.js.map