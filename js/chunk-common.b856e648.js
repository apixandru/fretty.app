"use strict";(self["webpackChunkfretty_app"]=self["webpackChunkfretty_app"]||[]).push([[64],{6098:function(t,n,e){var i=e(144),a=function(){var t=this,n=t._self._c;return n("section",{staticClass:"section",staticStyle:{padding:"0"}},[t._l(t.editors,(function(e){return n("div",{key:e.id,staticClass:"container",staticStyle:{"max-width":"100%"}},[n("Editor",{attrs:{initial:e.tuning,octaves:e.octaves},on:{"remove-fretboard":function(n){return t.remove(e.id)}}})],1)})),n("div",{staticClass:"container has-text-centered"},[n("a",{on:{click:t.add}},[t._v("+ Add fretboard")])])],2)},s=[],r=(e(7658),function(){var t=this,n=t._self._c;return n("div",[n("div",{staticClass:"editor"},[n("div",{staticClass:"columns is-multiline is-centered"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{grouped:"","group-multiline":"",position:"is-centered"}},[n("b-field",{attrs:{label:"Tuning"}},[n("b-autocomplete",{staticStyle:{"min-width":"350px"},attrs:{data:t.tuning_search,"group-field":"instrument","group-options":"tunings","open-on-focus":"",clearable:"",field:"tuning",icon:"guitar"},on:{select:n=>t.selected=n?n.name:"",input:t.saveSettings},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{flex:"1 1 0px"}},[t._v(t._s(e.option.name))]),n("div",{staticStyle:{flex:"1 1 0px"}},[t._v(t._s(e.option.tuning))])])]}}]),model:{value:t.usr_tuning,callback:function(n){t.usr_tuning=n},expression:"usr_tuning"}})],1),n("b-field",{attrs:{label:"Tonic:"}},[n("b-input",{staticStyle:{"max-width":"100px"},attrs:{icon:"music"},model:{value:t.scale.tonic,callback:function(n){t.$set(t.scale,"tonic",n)},expression:"scale.tonic"}})],1),n("b-field",{attrs:{label:"Scale:"}},[n("b-autocomplete",{attrs:{data:t.scale_search,"open-on-focus":"",clearable:"","append-to-body":""},on:{select:n=>t.selected=n},model:{value:t.scale.type,callback:function(n){t.$set(t.scale,"type",n)},expression:"scale.type"}})],1),n("b-field",[n("template",{slot:"label"},[n("span",{staticStyle:{color:"transparent","user-select":"none"}},[t._v("More")])]),n("b-dropdown",{attrs:{"append-to-body":"","aria-role":"menu","trap-focus":""}},[n("b-button",{staticClass:"button",attrs:{slot:"trigger","icon-left":"cog"},slot:"trigger"},[t._v("Settings")]),n("b-dropdown-item",{attrs:{"aria-role":"menu-item",focusable:!1,custom:"",paddingless:""}},[n("form",{attrs:{action:""}},[n("div",{staticClass:"modal-card",staticStyle:{width:"300px"}},[n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Frets"}},[n("b-numberinput",{attrs:{"controls-position":"compact",min:"1",max:"200"},model:{value:t.frets,callback:function(n){t.frets=t._n(n)},expression:"frets"}})],1),n("b-field",{attrs:{label:"Notation"}},[n("b-field",[n("b-radio-button",{attrs:{"native-value":"sharps"},model:{value:t.sharps,callback:function(n){t.sharps=n},expression:"sharps"}},[n("span",[t._v("#")])]),n("b-radio-button",{attrs:{"native-value":"flats"},model:{value:t.sharps,callback:function(n){t.sharps=n},expression:"sharps"}},[n("span",[t._v("b")])])],1)],1),n("b-field",{attrs:{label:"Octaves"}},[n("b-field",[n("b-radio-button",{attrs:{"native-value":"true"},model:{value:t.includeOctaves,callback:function(n){t.includeOctaves=n},expression:"includeOctaves"}},[n("span",[t._v("Yes")])]),n("b-radio-button",{attrs:{"native-value":"false"},model:{value:t.includeOctaves,callback:function(n){t.includeOctaves=n},expression:"includeOctaves"}},[n("span",[t._v("No")])])],1)],1),n("b-field",{attrs:{label:"Fretboard Len"}},[n("b-numberinput",{attrs:{"controls-position":"compact",min:"1000",max:"9000",step:"10"},model:{value:t.fretboardLen,callback:function(n){t.fretboardLen=t._n(n)},expression:"fretboardLen"}})],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("b-button",{attrs:{"icon-left":"trash"},on:{click:function(n){return t.$emit("remove-fretboard")}}},[t._v("remove fretboard")])],1)])])])],1)],2)],1)],1)]),n("div",{staticClass:"card-image",staticStyle:{"text-align":"center","overflow-x":"auto"}},[n("Fretboard",{attrs:{tuning:t.tuning,notes:t.notes,sharps:t.sharps,"base-length":t.fretboardLen,"include-octaves":t.includeOctaves,frets:t.frets,root:t.root}})],1)])])}),o=[],l=function(){var t=this,n=t._self._c;return this.tuning.length>0?n("svg",{staticClass:"fretboard",attrs:{width:t.width+150,height:t.height+100}},[n("g",{attrs:{transform:"translate(80, 50)"}},[t._l(t.inlay_polys,(function(t){return n("polygon",{key:"inlay_"+t.fret,staticStyle:{fill:"#eee"},attrs:{points:t.points}})})),t._l(t.strings,(function(e){return n("line",{key:"string_"+e.nr,attrs:{x1:"0",y1:e.y,x2:t.width,y2:e.y,stroke:"#000","stroke-width":"1"}})})),n("line",{attrs:{x1:"0",y1:"0",x2:"0",y2:t.height,stroke:"#000","stroke-width":"5","stroke-linecap":"round"}}),t._l(t.fret_lines.lines,(function(e){return n("line",{key:"fret_"+e.nr,attrs:{x1:e.x,y1:t.fret_lines.y1,x2:e.x,y2:t.fret_lines.y2,stroke:"#000","stroke-width":e.width}})})),t._l(t.strings,(function(e){return n("g",{key:"ng_"+e.nr},[t._l(e.hidden,(function(i){return n("g",{key:i.key},[n("transition",{attrs:{name:"fade"}},[n("g",{directives:[{name:"show",rawName:"v-show",value:t.hover_note%12===i.midiKey%12&&i.midiKey,expression:"hover_note % 12 === note.midiKey % 12 && note.midiKey"}]},[i.hasOctave?n("rect",{attrs:{x:i.x-15,y:e.y-10,width:"30",height:"20",fill:t.getFillColor(i),stroke:"black","stroke-width":"0.3","stroke-dasharray":t.getDashArray(i),ry:"0",rx:"0"}}):n("circle",{attrs:{cx:i.x,cy:e.y,r:"10","stroke-width":"1","stroke-dasharray":t.getDashArray(i),fill:t.getFillColor(i),stroke:"black"}}),n("text",{attrs:{"font-size":"11",x:i.x,y:e.y,"font-weight":t.getFontWeight(i),"dominant-baseline":"central",fill:t.getTextColor(i),"text-anchor":"middle"}},[t._v(" "+t._s(i.name)+" ")])])]),n("circle",{directives:[{name:"show",rawName:"v-show",value:i.midiKey,expression:"note.midiKey"}],attrs:{r:"10",cx:i.x,cy:e.y,fill:"transparent"},on:{mouseleave:function(n){return t.onHoverLeave()},mouseover:function(n){return t.onHoverEnter(i)}}})],1)})),n("transition-group",{attrs:{name:"list",tag:"g",appear:""}},t._l(e.visible,(function(i){return n("g",{key:i.key},[i.hasOctave?n("rect",{attrs:{x:i.x-15,y:e.y-10,width:"30",height:"20",fill:t.getFillColor(i),stroke:"black","stroke-width":"0.3","stroke-dasharray":t.getDashArray(i),ry:"0",rx:"0"}}):n("circle",{attrs:{cx:i.x,cy:e.y,r:"10","stroke-dasharray":t.getDashArray(i),fill:t.getFillColor(i),stroke:"black"}}),n("text",{attrs:{"font-size":"11",x:i.x,y:e.y,"dominant-baseline":"central",fill:t.getTextColor(i),"font-weight":t.getFontWeight(i),"text-anchor":"middle"}},[t._v(" "+t._s(i.name)+" ")]),n("circle",{attrs:{r:"10",cx:i.x,cy:e.y,fill:"transparent"},on:{mouseleave:function(n){return t.onHoverLeave()},mouseover:function(n){return t.onHoverEnter(i)}}})])})),0)],2)}))],2)]):t._e()},u=[],c=e(6301),d={name:"Fretboard",props:{tuning:{type:Array,default:()=>[]},notes:{type:Array,default:()=>[]},inlays:{default:()=>[3,5,7,9,12,15,17,19,21,24]},root:{type:Number},frets:{type:Number,default:25},baseLength:{type:Number},includeOctaves:{type:String},sharps:{type:Boolean,default:!0}},data(){return{string_spacing:25,hover_note:-1}},computed:{width:function(){return this.fretpos(this.frets-1)},height:function(){return(this.tuning.length-1)*this.string_spacing},strings:function(){let t=[];return this.tuning.forEach(((n,e)=>{let i="true"===this.includeOctaves;i&&(i=n.endsWith("0")||n.endsWith("1")||n.endsWith("2")||n.endsWith("3")||n.endsWith("4")||n.endsWith("5")||n.endsWith("6")||n.endsWith("7"));const a=i?{"note-to-num":(t,n)=>c.jC.midi(t)+n,"num-to-num":t=>t%12,"num-to-name":t=>c.mb.midiToNoteName(t,{sharps:this.sharps,pitchClass:!i})}:{"note-to-num":(t,n)=>(c.jC.chroma(t)+n)%12,"num-to-num":t=>t,"num-to-name":t=>this.toname(t)};let s=this.normalize(this.notes),r=[],o=[];for(let t=0;t<this.frets;t++){let l=a["note-to-num"](n,t),u=a["num-to-num"](l),d={hasOctave:i,midiKey:c.mb.toMidi(l),num:u,fret:t,name:a["num-to-name"](l),x:(this.fretpos(t-1)+this.fretpos(t))/2,key:"n"+e+"_"+t};s.includes(u)?r.push(d):o.push(d)}void 0!==n&&t.push({nr:e,y:e*this.string_spacing,tuning:n,visible:r,hidden:o})})),t},fret_lines:function(){let t=[];for(let n=1;n<this.frets;n++)t.push({nr:n,x:this.fretpos(n)});return{y1:0==this.height?-this.string_spacing/4:0,y2:0==this.height?this.string_spacing/4:this.height,lines:t}},inlay_polys:function(){let t=[];if(!this.tuning.length)return t;for(let n of this.inlays){if(n>=this.frets)break;const e=.6,i=12==n?.8:.6;let a=this.height,s=a/2-a*i/2;a<10&&(a=10,s=-5);const r=s+a*i,o=this.fretpos(n-1),l=this.fretpos(n),u=l-o,c=o+u/2-u*e/2,d=c+u*e;let g;g=12==n?[[c,s],[d,s],[d,r],[c,r]]:[[o+u/2,s],[c,a/2],[o+u/2,r],[d,a/2]];let f="";for(let t of g)f+=t[0].toString()+","+t[1].toString()+" ";t.push({fret:n,points:f})}return t}},methods:{fretpos(t){if(t<=20){const n=this.baseLength;let e=.77*n,i=n-n/Math.pow(2,t/12),a=Math.round(i*e)/e;return-1===t&&(a+=50),a}{let n=this.fretpos(19),e=this.fretpos(20);return e+(e-n)*(t-20)}},getFillColor(t){return-1===this.hover_note&&this.root===t.num||this.hover_note===t.midiKey?"black":this.hover_note%12===t.midiKey%12?"lightgray":"white"},getTextColor(t){return-1===this.hover_note&&this.root===t.num||this.hover_note===t.midiKey?"white":"black"},onHoverEnter(t){this.hover_note=t.midiKey},onHoverLeave(){this.hover_note=-1},getFontWeight(t){return-1===this.hover_note&&this.root===t.num||this.hover_note===t.midiKey||this.hover_note%12===t.midiKey%12||this.hover_note===t.num?"bold":"normal"},getDashArray(t){return this.hover_note===t.num&&t.num!==this.root?"4,4":"0"},toname(t){return c.mb.midiToNoteName(t,{sharps:this.sharps,pitchClass:!0})},normalize(t){return t.map((t=>t%12))}}},g=d,f=e(1001),m=(0,f.Z)(g,l,u,!1,null,"b6efb354",null),h=m.exports;const p=Object.freeze([{instrument:"Guitar (6-String)",tunings:[{name:"Standard",tuning:"E A D G B E",full:"E2 A2 D3 G3 B3 E4"},{name:"Drop D",tuning:"D A D G B E",full:"D2 A2 D3 G3 B3 E4"},{name:"Half Step Down",tuning:"D# G# C# F# A# D#",full:"d#2 g#2 c#3 f#3 a#3 d#4"},{name:"Full Step Down",tuning:"D G C F A D",full:"d2 g2 c3 f3 a3 d4"},{name:"1 and 1/2 Steps Down",tuning:"C# F# B E G# C#",full:"c#2 f#2 b2 e3 g#3 c#4"},{name:"Double Drop D",tuning:"D A D G B D",full:"d2 a2 d3 g3 b3 d4"},{name:"Drop C",tuning:"C G C F A D",full:"c2 g2 c3 f3 a3 d4"},{name:"Drop C#",tuning:"C# G# C# F# A# D#",full:"c#2 g#2 c#3 f#3 a#3 d#4"},{name:"Drop B",tuning:"B F# B E G# C#",full:"b1 f#2 b2 e3 g#3 c#4"},{name:"Drop A#",tuning:"A# F A# D# G C",full:"a#1 f2 a#2 d#3 g3 c4"},{name:"Drop A",tuning:"A E A D F# B",full:"a1 e2 a2 d3 f#3 b3"},{name:"Open D",tuning:"D A D F# A D",full:"d2 a2 d3 f#3 a3 d4"},{name:"Open D Minor",tuning:"D A D F A D",full:"d2 a2 d3 f3 a3 d4"},{name:"Open G",tuning:"D G D G B D",full:"d2 g2 d3 g3 b3 d4"},{name:"Open G Minor",tuning:"D G D G A# D",full:"d2 g2 d3 g3 a#3 d4"},{name:"Open C",tuning:"C G C G C E",full:"c2 g2 c3 g3 c4 e4"},{name:"Open C#",tuning:"C# F# B E G# C#",full:"c#2 f#2 b3 e3 g#3 c#4"},{name:"Open C Minor",tuning:"C G C G C D#",full:"c2 g2 c3 g3 c4 d#4"},{name:"Open E",tuning:"E G# D E B E",full:"e2 g#2 d3 e3 b3 e4"},{name:"Open E Minor7",tuning:"E B D G B E",full:"e2 b2 d3 g3 b3 e4"},{name:"Open G Major7",tuning:"D G D F# B D",full:"d2 g2 d3 f#3 b3 d4"},{name:"Open A Minor",tuning:"E A E A C E",full:"e2 a2 e3 a3 c4 e4"},{name:"Open A Minor7",tuning:"E A E G C E",full:"e2 a2 e3 g3 c4 e4"},{name:"Open E",tuning:"E B E G# B E",full:"e2 b2 e3 g#3 b3 e4"},{name:"Open A",tuning:"E A C# E A E",full:"e2 a2 c#3 e3 a3 e4"},{name:"C Tuning",tuning:"C F A# D# G C",full:"c2 f2 a#2 d#3 g3 c4"},{name:"C# Tuning",tuning:"C# F# B E G# C#",full:"c#2 f#2 b2 e3 g#3 c#4"},{name:"Bb Tuning",tuning:"A# D# G# C# F A#",full:"a#1 d#2 g#2 c#3 f3 a#3"},{name:"A to A (Baritone)",tuning:"A D G C E A",full:"a1 d2 g2 c3 e3 a3"},{name:"D A D D D D",tuning:"D A D D D D",full:"d2 a2 d3 d3 d4 d4"},{name:"C G D G B D",tuning:"C G D G B D",full:"c2 g2 d3 g3 b3 d4"},{name:"C G D G B E",tuning:"C G D G B E",full:"c2 g2 d3 g3 b3 e4"},{name:"D A D E A D",tuning:"D A D E A D",full:"d2 a2 d3 e3 a3 d4"},{name:"D G D G A D",tuning:"D G D G A D",full:"d2 g2 d3 g3 a3 d4"},{name:"Open Dsus2",tuning:"D A D G A D",full:"d2 a2 d3 g3 a3 d4"},{name:"Open Gsus2",tuning:"D G D G C D",full:"d2 g2 d3 g3 c4 d4"},{name:"G",tuning:"D G D G B E",full:"d2 g2 d3 g3 b3 e4"},{name:"Modal G",tuning:"D G D G C D",full:"d2 g2 d3 g3 c4 d4"},{name:"Overtone",tuning:"C E G A# C D",full:"c3 e3 g3 a#3 c4 d4"},{name:"Pentatonic",tuning:"A C D E G A",full:"a2 c3 d3 e3 g3 a4"},{name:"Minor Third",tuning:"C D# F# A C D#",full:"c3 d#3 f#3 a3 c4 d#4"},{name:"Major Third",tuning:"C E G# C E G#",full:"c3 e3 g#3 c4 e4 g#4"},{name:"All Fourths",tuning:"E A D G C F",full:"e2 a2 d3 g3 c4 f4"},{name:"Augmented Fourths",tuning:"C F# C F# C F#",full:"c2 f#2 c3 f#3 c4 f#4"},{name:"Slow Motion",tuning:"D G D F C D",full:"d2 g2 d3 f3 c4 d4"},{name:"Admiral",tuning:"C G D G B C",full:"c2 g2 d3 g3 b3 c4"},{name:"Buzzard",tuning:"C F C G A# F",full:"c2 f2 c3 g3 a#3 f4"},{name:"Face",tuning:"C G D G A D",full:"c2 g2 d3 g3 a3 d4"},{name:"Four and Twenty",tuning:"D A D D A D",full:"d2 a2 d3 d3 a3 d4"},{name:"Ostrich",tuning:"D D D D D D",full:"d2 d3 d3 d3 d4 d4"},{name:"Capo 20",tuning:"C G D D# D D#",full:"c2 g2 d3 d#3 d4 d#4"},{name:"Balalaika",tuning:"E A D E E A",full:"e2 a2 d3 e3 e3 a3"},{name:"Charango",tuning:" G C E A E",full:"g2 c3 e3 a3 e4"},{name:"Cittern One",tuning:"C F C G C D",full:"c2 f2 c3 g3 c4 d4"},{name:"Cittern Two",tuning:"C G C G C G",full:"c2 g2 c3 g3 c4 g4"},{name:"Dobro Open G",tuning:"G B D G B D",full:"g2 b2 d3 g3 b3 d4"},{name:"Lefty",tuning:"E B G D A E",full:"e4 b3 g3 d3 a2 e2"},{name:"Mandoguitar",tuning:"C G D A E B",full:"c2 g2 d3 a3 e4 b4"},{name:"Rusty Cage",tuning:"B A D G B E",full:"b1 a2 d3 g3 b3 e4"}]},{instrument:"Bass (4-String)",tunings:[{name:"Standard",tuning:"E A D G",full:"E1 A1 D2 G2"},{name:"Drop D",tuning:"D A D G"},{name:"Drop C",tuning:"C G C F"},{name:"Drop B",tuning:"B F# B E"},{name:"D Standard",tuning:"D G C F"},{name:"C to thirds",tuning:"C G C G"}]},{instrument:"Bass (5-String)",tunings:[{name:"Standard",tuning:"B E A D G",full:"B0 E1 A1 D2 G2"},{name:"High C",tuning:"E A D G C"}]},{instrument:"Bass (6-String)",tunings:[{name:"Standard",tuning:"B E A D G C"}]},{instrument:"Ukulele",tunings:[{name:"C6",tuning:"G C E A"},{name:"D6",tuning:"A D F# B"}]},{instrument:"Violin",tunings:[{name:"Standard",tuning:"G D A E"},{name:"Cajun",tuning:"F C G D"},{name:"Open G",tuning:"G D G B"},{name:"Sawmill",tuning:"G D G D"},{name:"Gee-Dad",tuning:"G D A D"},{name:"Open D",tuning:"D D A D"},{name:"High Bass, Old-Timey D",tuning:"A D A E"},{name:"Cross A",tuning:"A E A E"}]},{instrument:"Russian Guitar",tunings:[{name:"Standard",tuning:"D G B D G B D"},{name:"Classical",tuning:"C G B D G B D"}]},{instrument:"Sitar",tunings:[{name:"Standard",tuning:"C C G C G C F x C C B C D E F G A B C D E"}]}]);var D=[];for(var C of c.N3.all())D.push(C.name),D.push(...C.aliases);var b={name:"Editor",props:{initial:{type:String},octaves:{type:String}},components:{Fretboard:h},data:function(){return{usr_tuning:this.initial,sharps:"sharps",includeOctaves:this.octaves,frets:25,fretboardLen:2200,scale:{tonic:"A",type:"minor pentatonic"}}},computed:{tuning:function(){if(!this.usr_tuning)return[];let t=p.flatMap((t=>t.tunings)).find((t=>t.tuning===this.usr_tuning));return(t?.full||this.usr_tuning).trim().split(" ").reverse()},root:function(){return c.jC.chroma(this.scale.tonic)},notes:function(){return this.scale_info.notes.map(c.jC.chroma)},scale_info:function(){let t=this.scale.tonic+" "+this.scale.type;return c.Ci.get(t)},scale_search:function(){return D.filter((t=>t.toString().toLowerCase().indexOf(this.scale.type.toLowerCase())>=0))},tuning_search(){const t=[];return p.forEach((n=>{const e=n.tunings.filter((t=>t.tuning.toLowerCase().indexOf(this.usr_tuning.toLowerCase())>=0||t.full?.toLowerCase().indexOf(this.usr_tuning.toLowerCase())>=0));e.length&&t.push({instrument:n.instrument,tunings:e})})),t}},methods:{saveSettings(){console.log("saving"),localStorage.setItem("tuning",this.usr_tuning)},normalize(t){return t.map((t=>t%12))},toname(t){return c.mb.midiToNoteName(t,{sharps:"sharps"==this.sharps,pitchClass:!0})},scale_input(t,n){console.log(n)}}},v=b,y=(0,f.Z)(v,r,o,!1,null,"39ba9dc0",null),G=y.exports;const A="E A D G B E";var _={name:"App",components:{Editor:G},data(){return{editors:[{id:1,tuning:A,octaves:"true"},{id:2,tuning:A,octaves:"false"}]}},methods:{add:function(){this.editors.push({id:Math.max(...this.editors.map((t=>t.id)))+1,tuning:A,octaves:"true"})},remove:function(t){let n=this.editors.filter((n=>n.id===t));if(1!==n.length)return;const e=this.editors.indexOf(n[0]);e>-1&&this.editors.splice(e,1)}}},E=_,x=(0,f.Z)(E,a,s,!1,null,null,null),k=x.exports,B=e(3450),w=e(6226),F=e(355),O=e(3411),S=e(844),Z=e(7251),P=e(1181),L=e(8209),M=e(5883),T=e(6302),N=e(11),K=e(8947),W=e(1436),H=e(7810);K.vI.add(W.r8p,W.Kl4,W.nYk,W.gc2,W.b7W,W.l1h,W.eW2,W.$aW,W.Xig,W.mCs),i.ZP.component("vue-fontawesome",H.GN),i.ZP.use(B.Z),i.ZP.use(w.Z),i.ZP.use(F.Z),i.ZP.use(O.Z),i.ZP.use(S.ZP),i.ZP.use(Z.Z),i.ZP.use(P.ZP),i.ZP.use(L.ZP),i.ZP.use(M.Z),i.ZP.use(T.ZP),N.Z.setOptions({defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas",defaultContainerElement:"#content"}),i.ZP.config.productionTip=!1,window.onload=function(){new i.ZP({render:t=>t(k)}).$mount("#app")}}}]);
//# sourceMappingURL=chunk-common.b856e648.js.map